<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“… AI Dali Emploi en CEM</title>
  <style>
    body { font-family: Tahoma, Arial, sans-serif; background: #f4f6fa; direction: rtl; text-align: center; }
    h1 { color: #333; }
    .container { margin: 20px auto; max-width: 900px; background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
    label { display: block; margin: 10px 0 5px; font-weight: bold; }
    textarea, input { padding: 8px; border: 1px solid #ccc; border-radius: 8px; width: 100%; margin-bottom: 10px; }
    button { background: #4caf50; color: #fff; border: none; padding: 10px 15px; border-radius: 8px; cursor: pointer; }
    button:hover { background: #45a049; }
    table { border-collapse: collapse; width: 100%; margin: 20px 0; font-size: 14px; }
    table, th, td { border: 1px solid #aaa; }
    th, td { padding: 6px; text-align: center; }
    th { background: #f2f2f2; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“˜ AI Dali Emploi en CEM</h1>

    <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…:</label>
    <input type="number" id="sections" value="4">

    <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø§ØªØ°Ø© Ù„ÙƒÙ„ Ù…Ø§Ø¯Ø© (Ù…Ø«Ø§Ù„: Ø±ÙŠØ§Ø¶ÙŠØ§Øª = 2):</label>
    <textarea id="teachers" rows="5">Ø±ÙŠØ§Ø¶ÙŠØ§Øª=2
Ø¹Ø±Ø¨ÙŠØ©=3
ÙØ±Ù†Ø³ÙŠØ©=2
Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©=2
Ø¹Ù„ÙˆÙ… Ø·Ø¨ÙŠØ¹ÙŠØ©=2
ÙÙŠØ²ÙŠØ§Ø¡=2
ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§=1
ØªØ§Ø±ÙŠØ®=1
Ø¬ØºØ±Ø§ÙÙŠØ§=1
Ø¥Ø³Ù„Ø§Ù…ÙŠØ©=1
Ù…Ø¯Ù†ÙŠØ©=1
Ø±ÙŠØ§Ø¶Ø©=2
Ø¥Ø¹Ù„Ø§Ù… Ø¢Ù„ÙŠ=1</textarea>

    <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ù„ÙƒÙ„ Ù…Ø§Ø¯Ø©:</label>
    <textarea id="hours" rows="5">Ø±ÙŠØ§Ø¶ÙŠØ§Øª=5
Ø¹Ø±Ø¨ÙŠØ©=5
ÙØ±Ù†Ø³ÙŠØ©=3
Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©=3
Ø¹Ù„ÙˆÙ… Ø·Ø¨ÙŠØ¹ÙŠØ©=2
ÙÙŠØ²ÙŠØ§Ø¡=2
ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§=1
ØªØ§Ø±ÙŠØ®=2
Ø¬ØºØ±Ø§ÙÙŠØ§=2
Ø¥Ø³Ù„Ø§Ù…ÙŠØ©=2
Ù…Ø¯Ù†ÙŠØ©=1
Ø±ÙŠØ§Ø¶Ø©=2
Ø¥Ø¹Ù„Ø§Ù… Ø¢Ù„ÙŠ=1</textarea>

    <button onclick="generate()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„</button>
    <div id="output"></div>
  </div>

  <script>
    const days = ["Ø§Ù„Ø£Ø­Ø¯","Ø§Ù„Ø§Ø«Ù†ÙŠÙ†","Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡","Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡","Ø§Ù„Ø®Ù…ÙŠØ³","Ø§Ù„Ø¬Ù…Ø¹Ø©"];

    function parseInput(text){
      let map = {};
      text.trim().split("\n").forEach(line=>{
        let [k,v] = line.split("=");
        if(k && v) map[k.trim()] = parseInt(v.trim());
      });
      return map;
    }

    function generate(){
      const sections = parseInt(document.getElementById('sections').value);
      const teachers = parseInput(document.getElementById('teachers').value);
      const hours = parseInput(document.getElementById('hours').value);

      let output = "<h2>ğŸ“˜ Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°</h2>";
      for(let s=1; s<=sections; s++){
        output += `<h3>Ù‚Ø³Ù… ${s}</h3><table><tr>`;
        days.forEach(d=> output += `<th>${d}</th>`);
        output += "</tr><tr>";
        days.forEach((d, i)=>{
          // ØªÙˆØ²ÙŠØ¹ Ø£ÙˆÙ„ÙŠ: Ù†Ø£Ø®Ø° Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§
          let today = Object.keys(hours).slice(i%Object.keys(hours).length, (i%Object.keys(hours).length)+3);
          output += `<td>${today.join("<br>")}</td>`;
        });
        output += "</tr></table>`;
      }

      output += "<h2>ğŸ‘¨â€ğŸ« Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©</h2>";
      Object.keys(teachers).forEach(subj=>{
        for(let t=1; t<=teachers[subj]; t++){
          output += `<h3>${subj} - Ø£Ø³ØªØ§Ø° ${t}</h3>`;
          output += "<table><tr>";
          days.forEach(d=> output += `<th>${d}</th>`);
          output += "</tr><tr>";
          days.forEach((d,i)=>{
            if(d==="Ø§Ù„Ø®Ù…ÙŠØ³"){ output += "<td>ğŸ“Œ ÙŠÙˆÙ… Ø¨ÙŠØ¯Ø§ØºÙˆØ¬ÙŠ</td>"; }
            else { output += `<td>${subj} ÙÙŠ Ù‚Ø³Ù… ${(i%s)+1}</td>`; }
          });
          output += "</tr></table>";
        }
      });

      document.getElementById('output').innerHTML = output;
    }
  </script>
</body>
</html>
