<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูููุฒ ุงููุบุฉ ุงูุนุฑุจูุฉ - ุงูุณูุฉ ุงูุฑุงุจุนุฉ ูุชูุณุท</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap');

        * {
            font-family: 'Cairo', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0a0a0a 100%);
            background-attachment: fixed;
        }

        .neon-text {
            text-shadow: 0 0 10px #00ff88, 0 0 20px #00ff88, 0 0 30px #00ff88;
        }

        .neon-border {
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.5), 0 0 30px rgba(0, 255, 136, 0.3);
            border: 2px solid #00ff88;
        }

        .neon-border-purple {
            box-shadow: 0 0 15px rgba(147, 51, 234, 0.5), 0 0 30px rgba(147, 51, 234, 0.3);
            border: 2px solid #9333ea;
        }

        .neon-border-blue {
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5), 0 0 30px rgba(59, 130, 246, 0.3);
            border: 2px solid #3b82f6;
        }

        .neon-border-gold {
            box-shadow: 0 0 15px rgba(251, 191, 36, 0.5), 0 0 30px rgba(251, 191, 36, 0.3);
            border: 2px solid #fbbf24;
        }

        .profile-image {
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.8), 0 0 60px rgba(0, 255, 136, 0.5), 0 0 90px rgba(0, 255, 136, 0.3);
            border: 3px solid #00ff88;
            animation: pulse-neon 2s infinite;
        }

        @keyframes pulse-neon {
            0%, 100% {
                box-shadow: 0 0 30px rgba(0, 255, 136, 0.8), 0 0 60px rgba(0, 255, 136, 0.5);
            }
            50% {
                box-shadow: 0 0 40px rgba(0, 255, 136, 1), 0 0 80px rgba(0, 255, 136, 0.7);
            }
        }

        .btn-primary {
            background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.6);
        }

        .btn-locked {
            background: linear-gradient(135deg, #4b5563 0%, #374151 100%);
            cursor: not-allowed;
            opacity: 0.6;
        }

        .level-card {
            transition: all 0.3s ease;
        }

        .level-card:hover {
            transform: translateY(-5px);
        }

        .answer-option {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .answer-option:hover {
            transform: translateX(-5px);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
        }

        .answer-correct {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            animation: correct-pulse 0.5s ease;
        }

        .answer-wrong {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            animation: wrong-shake 0.5s ease;
        }

        @keyframes correct-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes wrong-shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .underline-important {
            text-decoration: underline;
            text-decoration-color: #fbbf24;
            text-decoration-thickness: 2px;
            text-underline-offset: 4px;
        }

        .highlight-word {
            background: linear-gradient(180deg, transparent 60%, #fbbf24 60%);
            padding: 0 4px;
        }

        .progress-bar {
            transition: width 0.5s ease;
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .content-wrapper {
            position: relative;
            z-index: 1;
        }

        .poem-text {
            font-size: 1.1rem;
            line-height: 2;
            border-right: 3px solid #fbbf24;
            padding-right: 1rem;
            font-style: italic;
        }
    </style>
</head>
<body class="min-h-screen text-white">
    <!-- Stars Background -->
    <div class="stars" id="starsContainer"></div>

    <!-- Content Wrapper -->
    <div class="content-wrapper">
        <!-- Login Screen -->
        <div id="loginScreen" class="min-h-screen flex items-center justify-center p-4">
            <div class="neon-border bg-gray-900 bg-opacity-90 rounded-2xl p-8 max-w-md w-full fade-in">
                <div class="flex justify-center mb-6">
                    <img src="https://pfst.cf2.poecdn.net/base/image/450f72073a5c64d751e736153f873c0bd32589114f30346b5657e30b3a6c6a14?w=797&h=960"
                         alt="Profile"
                         class="w-32 h-32 rounded-full object-cover profile-image">
                </div>
                <h1 class="text-4xl font-bold text-center mb-2 neon-text">ูููุฒ ุงููุบุฉ ุงูุนุฑุจูุฉ</h1>
                <p class="text-center text-gray-400 mb-8">ุงูุณูุฉ ุงูุฑุงุจุนุฉ ูุชูุณุท - ุงููููุงุฌ ุงูุฌุฒุงุฆุฑู</p>

                <div class="space-y-4">
                    <button onclick="startAsStudent()" class="w-full btn-primary text-gray-900 font-bold py-4 px-6 rounded-xl text-lg">
                        ุฏุฎูู ูุทุงูุจ
                    </button>
                    <button onclick="showTeacherLogin()" class="w-full bg-purple-600 hover:bg-purple-700 font-bold py-4 px-6 rounded-xl text-lg transition">
                        ุฏุฎูู ูุฃุณุชุงุฐ
                    </button>
                </div>
            </div>
        </div>

        <!-- Teacher Login Modal -->
        <div id="teacherLoginModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4">
            <div class="neon-border-purple bg-gray-900 rounded-2xl p-8 max-w-md w-full">
                <h2 class="text-2xl font-bold mb-6 text-center">ุฏุฎูู ุงูุฃุณุชุงุฐ</h2>
                <input type="password" id="teacherPassword" placeholder="ูููุฉ ุงูุณุฑ"
                       class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 mb-4 text-base focus:outline-none focus:border-purple-500">
                <div class="flex gap-3">
                    <button onclick="loginAsTeacher()" class="flex-1 bg-purple-600 hover:bg-purple-700 font-bold py-3 px-6 rounded-lg transition">
                        ุฏุฎูู
                    </button>
                    <button onclick="closeTeacherLogin()" class="flex-1 bg-gray-700 hover:bg-gray-600 font-bold py-3 px-6 rounded-lg transition">
                        ุฅูุบุงุก
                    </button>
                </div>
            </div>
        </div>

        <!-- Student Name Input -->
        <div id="studentNameScreen" class="hidden min-h-screen flex items-center justify-center p-4">
            <div class="neon-border bg-gray-900 bg-opacity-90 rounded-2xl p-8 max-w-md w-full fade-in">
                <h2 class="text-3xl font-bold text-center mb-6 neon-text">ูุฑุญุจุงู ุจู!</h2>
                <p class="text-center text-gray-400 mb-6">ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงุณูู ูููุชุงุจุนุฉ</p>
                <input type="text" id="studentNameInput" placeholder="ุงุณูู ุงููุงูู"
                       class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 mb-6 text-base focus:outline-none focus:border-green-500">
                <button onclick="saveStudentName()" class="w-full btn-primary text-gray-900 font-bold py-4 px-6 rounded-xl text-lg">
                    ุงุจุฏุฃ ุงูุฑุญูุฉ
                </button>
            </div>
        </div>

        <!-- Main Menu -->
        <div id="mainMenu" class="hidden min-h-screen p-4 py-8">
            <div class="max-w-6xl mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8 flex-wrap gap-4">
                    <div class="flex items-center gap-4">
                        <img src="https://pfst.cf2.poecdn.net/base/image/450f72073a5c64d751e736153f873c0bd32589114f30346b5657e30b3a6c6a14?w=797&h=960"
                             alt="Profile"
                             class="w-16 h-16 rounded-full object-cover profile-image">
                        <div>
                            <h2 class="text-2xl font-bold neon-text" id="studentNameDisplay"></h2>
                            <p class="text-gray-400">ุงููุฌููุน ุงูููู: <span id="totalScore">0</span> ููุทุฉ</p>
                        </div>
                    </div>
                    <button onclick="logout()" class="bg-red-600 hover:bg-red-700 px-6 py-2 rounded-lg transition">
                        ุชุณุฌูู ุงูุฎุฑูุฌ
                    </button>
                </div>

                <!-- Levels Grid -->
                <h1 class="text-4xl font-bold text-center mb-8 neon-text">ุงุฎุชุฑ ุงููุณุชูู</h1>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="levelsGrid">
                    <!-- Levels will be generated here -->
                </div>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quizScreen" class="hidden min-h-screen p-4 py-8">
            <div class="max-w-4xl mx-auto">
                <!-- Quiz Header -->
                <div class="neon-border bg-gray-900 bg-opacity-90 rounded-2xl p-6 mb-6">
                    <div class="flex justify-between items-center mb-4 flex-wrap gap-4">
                        <h2 class="text-2xl font-bold neon-text">ุงููุณุชูู <span id="currentLevelDisplay"></span></h2>
                        <div class="text-xl">ุงูุณุคุงู <span id="currentQuestionNum"></span> ูู <span id="totalQuestionsNum"></span></div>
                    </div>
                    <div class="bg-gray-800 rounded-full h-4 overflow-hidden">
                        <div id="progressBar" class="progress-bar bg-gradient-to-r from-green-500 to-blue-500 h-full" style="width: 0%"></div>
                    </div>
                    <div class="mt-4 text-center text-xl">ุงูููุงุท: <span id="quizScore">0</span></div>
                </div>

                <!-- Question Card -->
                <div id="questionCard" class="neon-border-blue bg-gray-900 bg-opacity-90 rounded-2xl p-8 mb-6 fade-in">
                    <div class="mb-2 text-sm text-gray-400" id="questionCategory"></div>
                    <div class="text-2xl mb-8 leading-relaxed" id="questionText"></div>
                    <div class="space-y-4" id="answersContainer">
                        <!-- Answers will be generated here -->
                    </div>
                </div>

                <button onclick="returnToMenu()" class="bg-gray-700 hover:bg-gray-600 px-6 py-3 rounded-lg transition">
                    ุงูุนูุฏุฉ ูููุงุฆูุฉ
                </button>
            </div>
        </div>

        <!-- Teacher Dashboard -->
        <div id="teacherDashboard" class="hidden min-h-screen p-4 py-8">
            <div class="max-w-6xl mx-auto">
                <div class="flex justify-between items-center mb-8 flex-wrap gap-4">
                    <h1 class="text-4xl font-bold neon-text">ููุญุฉ ุชุญูู ุงูุฃุณุชุงุฐ</h1>
                    <div class="flex gap-3">
                        <button onclick="exportStudentData()" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg transition">
                            ๐ฅ ุชุตุฏูุฑ ุงูุจูุงูุงุช
                        </button>
                        <button onclick="logout()" class="bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg transition">
                            ุชุณุฌูู ุงูุฎุฑูุฌ
                        </button>
                    </div>
                </div>

                <!-- Statistics -->
                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="neon-border bg-gray-900 bg-opacity-90 rounded-xl p-6 text-center">
                        <div class="text-4xl font-bold neon-text mb-2" id="totalStudents">0</div>
                        <div class="text-gray-400">ุนุฏุฏ ุงูุทูุงุจ</div>
                    </div>
                    <div class="neon-border-gold bg-gray-900 bg-opacity-90 rounded-xl p-6 text-center">
                        <div class="text-4xl font-bold text-yellow-400 mb-2" id="avgScore">0</div>
                        <div class="text-gray-400">ูุชูุณุท ุงูููุงุท</div>
                    </div>
                    <div class="neon-border-purple bg-gray-900 bg-opacity-90 rounded-xl p-6 text-center">
                        <div class="text-4xl font-bold text-purple-400 mb-2" id="excellentStudents">0</div>
                        <div class="text-gray-400">ุทูุงุจ ููุชุงุฒูู (90%+)</div>
                    </div>
                </div>

                <!-- Students Table -->
                <div class="neon-border bg-gray-900 bg-opacity-90 rounded-2xl p-6">
                    <div class="flex justify-between items-center mb-6 flex-wrap gap-4">
                        <h2 class="text-2xl font-bold">ูุชุงุฆุฌ ุงูุทูุงุจ</h2>
                        <div class="text-sm text-gray-400">
                            ๐ ุงูุชุญุฏูุซ ุงูููุฑู: ุงูุจูุงูุงุช ุชูุญุฏุซ ุชููุงุฆูุงู ุนูุฏ ุฅูุฌุงุฒ ุงูุทูุงุจ ููุงุฎุชุจุงุฑุงุช
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr class="border-b border-gray-700">
                                    <th class="text-right p-4">ุงูุงุณู</th>
                                    <th class="text-center p-4">ุงููุฌููุน ุงูููู</th>
                                    <th class="text-center p-4">ุงููุณุชูู 1</th>
                                    <th class="text-center p-4">ุงููุณุชูู 2</th>
                                    <th class="text-center p-4">ุงููุณุชูู 3</th>
                                    <th class="text-center p-4">ุงููุณุชูู 4</th>
                                    <th class="text-center p-4">ุงููุณุชูู 5</th>
                                    <th class="text-center p-4">ุขุฎุฑ ูุญุงููุฉ</th>
                                </tr>
                            </thead>
                            <tbody id="studentsTableBody">
                                <!-- Student data will be generated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Result Modal -->
        <div id="resultModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4">
            <div class="neon-border-gold bg-gray-900 rounded-2xl p-8 max-w-md w-full text-center">
                <div class="text-6xl mb-4" id="resultEmoji"></div>
                <h2 class="text-3xl font-bold mb-4 neon-text" id="resultTitle"></h2>
                <p class="text-xl mb-6" id="resultMessage"></p>
                <div class="text-4xl font-bold mb-6 text-yellow-400">
                    ุงููุชูุฌุฉ: <span id="finalScore"></span>/100
                </div>
                <div class="text-lg mb-8 text-gray-300" id="motivationalMessage"></div>
                <button onclick="closeResultModal()" class="w-full btn-primary text-gray-900 font-bold py-4 px-6 rounded-xl text-lg">
                    ุงูุนูุฏุฉ ูููุงุฆูุฉ
                </button>
            </div>
        </div>
    </div>

    <script>
        // Generate stars background
        function generateStars() {
            const container = document.getElementById('starsContainer');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                container.appendChild(star);
            }
        }
        generateStars();

        // Dark mode support (always dark in this case)
        document.documentElement.classList.add('dark');

        // Question Bank - ูููุงุฌ ุงูุฌุฒุงุฆุฑู ููุณูุฉ ุงูุฑุงุจุนุฉ ูุชูุณุท
        const questionBank = {
            level1: [
                {
                    category: "ุงูุฅุนุฑุงุจ",
                    question: "ูุง ุฅุนุฑุงุจ ูููุฉ <span class='highlight-word'>ุงูุทุงูุจ</span> ูู ุงูุฌููุฉ: 'ุฌุงุก <span class='underline-important'>ุงูุทุงูุจู</span> ูุจูุฑุงู'ุ",
                    answers: ["ูุงุนู ูุฑููุน ูุนูุงูุฉ ุฑูุนู ุงูุถูุฉ", "ููุนูู ุจู ููุตูุจ", "ูุจุชุฏุฃ ูุฑููุน"],
                    correct: 0
                },
                {
                    category: "ุงูููุฑุฏุงุช",
                    question: "ูุง ุถุฏ ูููุฉ <span class='highlight-word'>ุงูุฌูู</span>ุ",
                    answers: ["ุงูุนูู", "ุงูุญููุฉ", "ุงูููู"],
                    correct: 0
                },
                {
                    category: "ุงูุตูุฑ ุงูุจูุงููุฉ",
                    question: "ูู ููู ุงูุดุงุนุฑ: '<span class='poem-text'>ุฃูุง ุงูุจุญุฑ ูู ุฃุญุดุงุฆู ุงูุฏุฑ ูุงูู</span>' ูุง ููุน ุงูุตูุฑุฉ ุงูุจูุงููุฉุ",
                    answers: ["ุงุณุชุนุงุฑุฉ ุชุตุฑูุญูุฉ", "ุชุดุจูู ุจููุบ", "ููุงูุฉ"],
                    correct: 0
                },
                {
                    category: "ุชุตุฑูู ุงูุฃูุนุงู",
                    question: "ูุง ุงููุนู ุงููุงุถู ูู ูููุฉ <span class='highlight-word'>ููุชุจ</span>ุ",
                    answers: ["ูุชุจ", "ูุงุชุจ", "ููุชูุจ"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุก ุงููุบูู",
                    question: "ุงูุฌููุฉ '<span class='underline-important'>ุงูุนูู ููุฑ</span>' ูู ุฌููุฉ:",
                    answers: ["ุงุณููุฉ", "ูุนููุฉ", "ุดุฑุทูุฉ"],
                    correct: 0
                },
                {
                    category: "ุงุณุชุฎุฑุงุฌ ุงูููุฑุฏุงุช",
                    question: "ูููุฉ <span class='highlight-word'>ุงููุฏุฑุณุฉ</span> ูู:",
                    answers: ["ุงุณู ููุงู", "ุงุณู ุฒูุงู", "ุงุณู ุขูุฉ"],
                    correct: 0
                },
                {
                    category: "ุงููุญู",
                    question: "ูู ุงูุฌููุฉ 'ูุฑุฃุชู ูุชุงุจุงู'ุ ูุง ููุน <span class='underline-important'>ุงูุชูููู</span> ูู ูููุฉ 'ูุชุงุจุงู'ุ",
                    answers: ["ุชูููู ูุตุจ", "ุชูููู ุฑูุน", "ุชูููู ุฌุฑ"],
                    correct: 0
                },
                {
                    category: "ุงูุฃุฏุจ",
                    question: "ูู ูุงุฆู ุงูุจูุช: '<span class='poem-text'>ุงูุฃู ูุฏุฑุณุฉ ุฅุฐุง ุฃุนุฏุฏุชูุง *** ุฃุนุฏุฏุช ุดุนุจุงู ุทูุจ ุงูุฃุนุฑุงู</span>'ุ",
                    answers: ["ุญุงูุธ ุฅุจุฑุงููู", "ุฃุญูุฏ ุดููู", "ุฅูููุง ุฃุจู ูุงุถู"],
                    correct: 0
                },
                {
                    category: "ุงูููุฑุฏุงุช",
                    question: "ูุง ูุฑุงุฏู ูููุฉ <span class='highlight-word'>ุงููุทู</span>ุ",
                    answers: ["ุงูุฏูุงุฑ", "ุงูุณูุงุก", "ุงูุฃุฑุถ"],
                    correct: 0
                },
                {
                    category: "ุงูุฅููุงุก",
                    question: "ุฃู ูููุฉ ููุชูุจุฉ ุจุดูู ุตุญูุญุ",
                    answers: ["ุงูุฑุญูู", "ุงูุฑุญูุงู", "ุงูุฑุญูุขู"],
                    correct: 0
                },
                {
                    category: "ุงููุญู",
                    question: "ูุง ุนูุงูุฉ ุฌุฒู ุงููุนู <span class='highlight-word'>ููุนุจูุง</span>ุ",
                    answers: ["ุญุฐู ุงูููู", "ุงูุณููู", "ุญุฐู ุญุฑู ุงูุนูุฉ"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ",
                    question: "ูู ููููุง '<span class='underline-important'>ุฑุฃูุช ุฃุณุฏุงู ูู ุงููุนุฑูุฉ</span>' ูุงูููุตูุฏ ุงูุดุฌุงุนุ ูุฐู:",
                    answers: ["ุงุณุชุนุงุฑุฉ ููููุฉ", "ุชุดุจูู", "ููุงูุฉ"],
                    correct: 0
                },
                {
                    category: "ุงูุตุฑู",
                    question: "ูุฒู ูููุฉ <span class='highlight-word'>ููุชูุจ</span> ูู:",
                    answers: ["ููุนูู", "ูุงุนู", "ููุนู"],
                    correct: 0
                },
                {
                    category: "ุงูููุฑุฏุงุช",
                    question: "ุถุฏ ูููุฉ <span class='highlight-word'>ุงูุตุฏู</span> ูู:",
                    answers: ["ุงููุฐุจ", "ุงูููุงู", "ุงูุฎุฏุงุน"],
                    correct: 0
                },
                {
                    category: "ุงูุฅุนุฑุงุจ",
                    question: "ูู ุงูุฌููุฉ 'ูุง <span class='underline-important'>ูุญูุฏู</span> ุงุฌุชูุฏ'ุ ูุง ุฅุนุฑุงุจ ูููุฉ 'ูุญูุฏ'ุ",
                    answers: ["ููุงุฏู ูุจูู ุนูู ุงูุถู", "ูุงุนู ูุฑููุน", "ููุนูู ุจู"],
                    correct: 0
                }
            ],
            level2: [
                {
                    category: "ุงูุฅุนุฑุงุจ ุงููุชูุฏู",
                    question: "ูุง ุฅุนุฑุงุจ <span class='highlight-word'>ุงููุฌุชูุฏูู</span> ูู: 'ุฅู <span class='underline-important'>ุงููุฌุชูุฏูู</span> ูุงุฌุญูู'ุ",
                    answers: ["ุงุณู ุฅู ููุตูุจ ูุนูุงูุฉ ูุตุจู ุงููุงุก", "ุฎุจุฑ ุฅู ูุฑููุน", "ูุงุนู ูุฑููุน"],
                    correct: 0
                },
                {
                    category: "ุงูุตูุฑ ุงูุจูุงููุฉ",
                    question: "ูุงู ุงูุดุงุนุฑ: '<span class='poem-text'>ุจูุงุฏู ูุฅู ุฌุงุฑุช ุนูู ุนุฒูุฒุฉ *** ูุฃููู ูุฅู ุถููุง ุนูู ูุฑุงู</span>' ููุน ุงููุญุณู ุงูุจุฏูุนู:",
                    answers: ["ุทุจุงู", "ุฌูุงุณ", "ุณุฌุน"],
                    correct: 0
                },
                {
                    category: "ุชุตุฑูู ุงูุฃูุนุงู",
                    question: "ุงููุนู <span class='highlight-word'>ุงุณุชุฎุฑุฌ</span> ุนูู ูุฒู:",
                    answers: ["ุงุณุชูุนู", "ุงูุชุนู", "ุชูุงุนู"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ",
                    question: "ูู ููููุง: '<span class='underline-important'>ูุซูุฑ ุงูุฑูุงุฏ</span>' ููุงูุฉ ุนู:",
                    answers: ["ุงููุฑู", "ุงูููุฑ", "ุงูุญุฒู"],
                    correct: 0
                },
                {
                    category: "ุงููุญู",
                    question: "ุงููุนู <span class='highlight-word'>ูุฌุฑู</span> ูุนู:",
                    answers: ["ูุนุชู ูุงูุต", "ูุนุชู ูุซุงู", "ุตุญูุญ"],
                    correct: 0
                },
                {
                    category: "ุงูุฃุฏุจ",
                    question: "ูู ุฎุตุงุฆุต ุงูุดุนุฑ <span class='underline-important'>ุงูุฌุงููู</span>:",
                    answers: ["ุงูุตุฏู ูู ุงูุชุนุจูุฑ ูุงูุจุฏุก ุจุงููููู ุนูู ุงูุฃุทูุงู", "ุงูุชููู ูุงูุตูุนุฉ", "ุงูุฅูุซุงุฑ ูู ุงููุญุณูุงุช ุงูุจุฏูุนูุฉ"],
                    correct: 0
                },
                {
                    category: "ุงูููุฑุฏุงุช",
                    question: "ูุง ุฌูุน ูููุฉ <span class='highlight-word'>ูููุงุฌ</span>ุ",
                    answers: ["ููุงูุฌ", "ูููุงุฌุงุช", "ููุงููุฌ"],
                    correct: 0
                },
                {
                    category: "ุงูุฅุนุฑุงุจ",
                    question: "ูู ูููู ุชุนุงูู: '<span class='poem-text'>ุฅููุง ุงููุคูููู ุฅุฎูุฉ</span>' ูุง ุฅุนุฑุงุจ <span class='underline-important'>ุฅุฎูุฉ</span>ุ",
                    answers: ["ุฎุจุฑ ุงููุจุชุฏุฃ ูุฑููุน", "ุฎุจุฑ ุฅู ููุตูุจ", "ูุนุช ูุฑููุน"],
                    correct: 0
                },
                {
                    category: "ุงูุตุฑู",
                    question: "ุงุณู ุงููุงุนู ูู ุงููุนู <span class='highlight-word'>ุงุณุชูุจู</span> ูู:",
                    answers: ["ูุณุชูุจูู", "ูุณุชูุจูู", "ูุงุจู"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ",
                    question: "ูุงู ุชุนุงูู: '<span class='poem-text'>ูุงุฎูุถ ูููุง ุฌูุงุญ ุงูุฐู ูู ุงูุฑุญูุฉ</span>' ููุน ุงูุตูุฑุฉ ุงูุจูุงููุฉ:",
                    answers: ["ุงุณุชุนุงุฑุฉ ููููุฉ", "ุชุดุจูู ุชูุซููู", "ููุงูุฉ"],
                    correct: 0
                },
                {
                    category: "ุงููุญู",
                    question: "ุงูุฃูุนุงู ุงูุฎูุณุฉ ุชูุฑูุน ุจู:",
                    answers: ["ุซุจูุช ุงูููู", "ุงูุถูุฉ", "ุงููุงู"],
                    correct: 0
                },
                {
                    category: "ุงูููุฑุฏุงุช",
                    question: "ุถุฏ ูููุฉ <span class='highlight-word'>ุงูุฑุฎุงุก</span>:",
                    answers: ["ุงูุดุฏุฉ", "ุงูุถูู", "ุงูููุฑ"],
                    correct: 0
                },
                {
                    category: "ุงูุฅููุงุก",
                    question: "ุงููููุฉ ุงูุตุญูุญุฉ ุฅููุงุฆูุงู:",
                    answers: ["ูุฐุง", "ูุงุฐุง", "ูุฐุฉ"],
                    correct: 0
                },
                {
                    category: "ุงูุฃุฏุจ",
                    question: "ูู ุฃุบุฑุงุถ ุงูุดุนุฑ <span class='underline-important'>ุงููุตู</span>ุ ููุซุงูู:",
                    answers: ["ูุตู ุงูุทุจูุนุฉ ูุงูุฌูุงู", "ูุฏุญ ุงููููู", "ุฑุซุงุก ุงูููุช"],
                    correct: 0
                },
                {
                    category: "ุงูุชุญููู",
                    question: "ูู ููู ุงูุดุงุนุฑ: '<span class='poem-text'>ููุง ููู ุงููุทุงูุจ ุจุงูุชููู *** ูููู ุชุคุฎุฐ ุงูุฏููุง ุบูุงุจุง</span>' ุงูููุฑุฉ ุงูุฃุณุงุณูุฉ:",
                    answers: ["ุงููุฌุงุญ ูุญุชุงุฌ ุฅูู ุงูุนูู ูุงูุฌุฏ", "ุงูุฃูุงูู ุชุญูู ุงูุฃุญูุงู", "ุงูุฏููุง ุณููุฉ ุงูููุงู"],
                    correct: 0
                }
            ],
            level3: [
                {
                    category: "ุงูุฅุนุฑุงุจ ุงููุฑูุจ",
                    question: "ุฃุนุฑุจ: '<span class='underline-important'>ููุง ุงูุทุงูุจูู</span> ูุฌุชูุฏ'ุ ูุง ุฅุนุฑุงุจ 'ููุง'ุ",
                    answers: ["ูุจุชุฏุฃ ูุฑููุน ูุนูุงูุฉ ุฑูุนู ุงูุฃูู", "ุฎุจุฑ ูุฑููุน", "ูุนุช ูุฑููุน"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ ุงููุชูุฏูุฉ",
                    question: "ูู ูููู ุชุนุงูู: '<span class='poem-text'>ููู ุดุงุก ูููุคูู ููู ุดุงุก ูููููุฑ</span>' ุงููุญุณู ุงูุจุฏูุนู:",
                    answers: ["ููุงุจูุฉ", "ุทุจุงู", "ุฌูุงุณ"],
                    correct: 0
                },
                {
                    category: "ุงูุตุฑู ุงููุชูุฏู",
                    question: "ุตูุบุฉ ุงููุจุงูุบุฉ ูู ุงููุนู <span class='highlight-word'>ุนููู</span> ูู:",
                    answers: ["ุนููู", "ุนุงูู", "ูุนููู"],
                    correct: 0
                },
                {
                    category: "ุงููุญู ุงููุชูุฏู",
                    question: "ูู ุงูุฌููุฉ: 'ูู <span class='underline-important'>ูุญุถุฑุง</span> ุงูุฏุฑุณ'ุ ุนูุงูุฉ ุฌุฒู ุงููุนู:",
                    answers: ["ุญุฐู ุงูููู", "ุงูุณููู", "ุงููุชุญุฉ"],
                    correct: 0
                },
                {
                    category: "ุงูุชุญููู ุงูุฃุฏุจู",
                    question: "ูุงู ุงููุชูุจู: '<span class='poem-text'>ุนูู ูุฏุฑ ุฃูู ุงูุนุฒู ุชุฃุชู ุงูุนุฒุงุฆู *** ูุชุฃุชู ุนูู ูุฏุฑ ุงููุฑุงู ุงูููุงุฑู</span>' ุงูุนุงุทูุฉ ุงูุณุงุฆุฏุฉ:",
                    answers: ["ุงูุฅุนุฌุงุจ ูุงูุชูุฏูุฑ", "ุงูุญุฒู ูุงูุฃุณู", "ุงููุฑุญ ูุงูุณุฑูุฑ"],
                    correct: 0
                },
                {
                    category: "ุงูุฅููุงุก ุงููุชูุฏู",
                    question: "ุณุจุจ ูุชุงุจุฉ ุงูููุฒุฉ ุนูู ุงูุณุทุฑ ูู ูููุฉ <span class='highlight-word'>ุฌุฒุก</span>:",
                    answers: ["ูุฃููุง ููุชูุญุฉ ููุง ูุจููุง ุณุงูู", "ูุฃููุง ุนูู ูุงู", "ูุฃููุง ูุชุทุฑูุฉ"],
                    correct: 0
                },
                {
                    category: "ุงูููุฑุฏุงุช",
                    question: "ูุนูู <span class='highlight-word'>ุงูุตุนูุฏ</span> ูู ูููู ุชุนุงูู: 'ูุชููููุง ุตุนูุฏุงู ุทูุจุงู':",
                    answers: ["ุงูุชุฑุงุจ ุงูุทุงูุฑ", "ุงูุฌุจู", "ุงููุงุฏู"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ",
                    question: "ุงููุฑู ุจูู ุงูุชุดุจูู ูุงูุงุณุชุนุงุฑุฉ ุฃู ุงูุงุณุชุนุงุฑุฉ:",
                    answers: ["ุชุญุฐู ุฃุญุฏ ุทุฑูู ุงูุชุดุจูู", "ุชุฐูุฑ ุทุฑูู ุงูุชุดุจูู", "ุชุณุชุฎุฏู ุฃุฏุงุฉ ุงูุชุดุจูู"],
                    correct: 0
                },
                {
                    category: "ุงูุฃุฏุจ",
                    question: "ูู ุดุนุฑุงุก ุงูููุฌุฑ ุงูุดูุงูู:",
                    answers: ["ุฅูููุง ุฃุจู ูุงุถู", "ุฃุญูุฏ ุดููู", "ูุญููุฏ ุฏุฑููุด"],
                    correct: 0
                },
                {
                    category: "ุงููุญู",
                    question: "ุงูุงุณู ุงูููุฏูุฏ ูู ุงูุฐู ููุชูู ุจู:",
                    answers: ["ููุฒุฉ ูุจููุง ุฃูู ุฒุงุฆุฏุฉ", "ูุงุก ูุดุฏุฏุฉ", "ูุงู ุณุงููุฉ"],
                    correct: 0
                },
                {
                    category: "ุงูุชุญููู",
                    question: "ูู ููู ุงูุดุงุนุฑ: '<span class='poem-text'>ุณูุงูู ูู ุตุจุง ุจุฑุฏู ุฃุฑู *** ูุฏูุนู ูุง ููููู ูุง ุฏูุดู</span>' ุงูุบุฑุถ ุงูุดุนุฑู:",
                    answers: ["ุงูุญููู ูููุทู", "ุงููุฎุฑ ุจุงูููุณ", "ุงูุบุฒู"],
                    correct: 0
                },
                {
                    category: "ุงูุตุฑู",
                    question: "ุงุณู ุงูููุนูู ูู ุงููุนู <span class='highlight-word'>ุงุฎุชุงุฑ</span> ูู:",
                    answers: ["ููุฎุชุงุฑ", "ุฎุงุฆุฑ", "ููุฎุชุงุฑ"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ",
                    question: "ูุงู ุงูุดุงุนุฑ: '<span class='poem-text'>ุชุญูุฉ ูุงูุดูุณ ูู ุฅุดุฑุงููุง</span>' ููุน ุงูุชุดุจูู:",
                    answers: ["ุชุดุจูู ูุฑุณู ูุฌูู", "ุชุดุจูู ุจููุบ", "ุชุดุจูู ูุคูุฏ ููุตู"],
                    correct: 0
                },
                {
                    category: "ุงูุฅุนุฑุงุจ",
                    question: "ูู ุงูุฌููุฉ: 'ูุง ุฌุงุก <span class='underline-important'>ุฅูุง</span> ูุญูุฏู'ุ ูุง ููุน ุงูุฃุฏุงุฉ 'ุฅูุง'ุ",
                    answers: ["ุฃุฏุงุฉ ุงุณุชุซูุงุก", "ุฃุฏุงุฉ ููู", "ุฃุฏุงุฉ ุดุฑุท"],
                    correct: 0
                },
                {
                    category: "ุงููุญู",
                    question: "ุงูุฃุณูุงุก ุงูุฎูุณุฉ ุชูุฑูุน ุจู:",
                    answers: ["ุงููุงู", "ุงูุถูุฉ", "ุงูุฃูู"],
                    correct: 0
                }
            ],
            level4: [
                {
                    category: "ุชุญููู ูุต",
                    question: "ูุงู ุงูุดุงุนุฑ: '<span class='poem-text'>ุฅุฐุง ุงูุดุนุจ ูููุงู ุฃุฑุงุฏ ุงูุญูุงุฉ *** ููุง ุจุฏ ุฃู ูุณุชุฌูุจ ุงููุฏุฑ</span>' ุงููุนูู ุงูุถููู:",
                    answers: ["ุงูุฅุฑุงุฏุฉ ุงููููุฉ ุชุญูู ุงููุณุชุญูู", "ุงููุฏุฑ ูุชุญูู ูู ูู ุดูุก", "ุงูุดุนูุจ ุถุนููุฉ ุฃูุงู ุงููุฏุฑ"],
                    correct: 0
                },
                {
                    category: "ุงููุญู ุงููุนูุฏ",
                    question: "ูู ูููู ุชุนุงูู: '<span class='poem-text'>ูุง ูุฐุง ุจุดุฑุงู</span>' ูุง ููุน 'ูุง'ุ",
                    answers: ["ูุง ุงูุญุฌุงุฒูุฉ (ุชุนูู ุนูู ููุณ)", "ูุง ุงููุงููุฉ", "ูุง ุงูุงุณุชููุงููุฉ"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ ุงูุนููุง",
                    question: "ูุงู ุงูุดุงุนุฑ: '<span class='poem-text'>ูุง ูู ูุนุฒ ุนูููุง ุฃู ููุงุฑููู *** ูุฌุฏุงููุง ูู ุดูุก ุจุนุฏูู ุนุฏู</span>' ุงููุญุณู ุงูุจุฏูุนู ูู 'ุดูุก - ุนุฏู':",
                    answers: ["ุทุจุงู ุฅูุฌุงุจู", "ููุงุจูุฉ", "ุฌูุงุณ"],
                    correct: 0
                },
                {
                    category: "ุงูุฃุฏุจ ูุงูููุฏ",
                    question: "ูู ุฎุตุงุฆุต ูุฏุฑุณุฉ <span class='underline-important'>ุงูุฏููุงู</span> ุงูุดุนุฑูุฉ:",
                    answers: ["ุงููุญุฏุฉ ุงูุนุถููุฉ ูุงูููุถูุนูุฉ", "ุงูุชูููุฏ ูุงููุญุงูุงุฉ", "ุงูุงูุชุฒุงู ุจุงูุนููุฏ ุงูุดุนุฑู"],
                    correct: 0
                },
                {
                    category: "ุงูุฅุนุฑุงุจ ุงููุนูุฏ",
                    question: "ูู ุงูุฌููุฉ: 'ุฃุตุจุญ ุงูุฌู <span class='underline-important'>ุจุงุฑุฏุงู</span>'ุ ูุง ุฅุนุฑุงุจ 'ุจุงุฑุฏุงู'ุ",
                    answers: ["ุฎุจุฑ ุฃุตุจุญ ููุตูุจ", "ุญุงู ููุตูุจุฉ", "ูุนุช ููุตูุจ"],
                    correct: 0
                },
                {
                    category: "ุงูุตุฑู ุงููุชูุฏู",
                    question: "ุงููุนู <span class='highlight-word'>ุงูุชุฑุจ</span> ูู ุงูุฃูุนุงู:",
                    answers: ["ุงููุฒูุฏุฉ ุจุญุฑููู", "ุงููุฒูุฏุฉ ุจุญุฑู ูุงุญุฏ", "ุงูุซูุงุซูุฉ ุงููุฌุฑุฏุฉ"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ",
                    question: "ูู ููููุง: '<span class='underline-important'>ููุงู ูุธูู ุงููุฏ</span>' ููุงูุฉ ุนู:",
                    answers: ["ุงูุนูุฉ ูุงูุฃูุงูุฉ", "ุงููุธุงูุฉ", "ุงููุฑู"],
                    correct: 0
                },
                {
                    category: "ุงูุชุญููู ุงูุฃุฏุจู",
                    question: "ูุงู ุฃุญูุฏ ุดููู: '<span class='poem-text'>ูู ูููุนูู ููู ุงูุชุจุฌููุง *** ูุงุฏ ุงููุนูู ุฃู ูููู ุฑุณููุง</span>' ุงูุฃุณููุจ ุงููุณุชุฎุฏู:",
                    answers: ["ุฃูุฑ ููุญุซ ูุงูุชุนุธูู", "ููู ููุชุญุฐูุฑ", "ุงุณุชููุงู ููุชุนุฌุจ"],
                    correct: 0
                },
                {
                    category: "ุงููุญู",
                    question: "ุงููุนู ุงูุฐู ููุตุจ ููุนูููู ููุณ ุฃุตูููุง ุงููุจุชุฏุฃ ูุงูุฎุจุฑ:",
                    answers: ["ุฃุนุทู", "ุธู", "ุนูู"],
                    correct: 0
                },
                {
                    category: "ุงูููุฑุฏุงุช",
                    question: "ูุนูู <span class='highlight-word'>ุงูุตุฑุญ</span> ูู ูููู ุชุนุงูู: 'ูุฃููุฏ ูู ูุง ูุงูุงู ุนูู ุงูุทูู ูุงุฌุนู ูู ุตุฑุญุงู':",
                    answers: ["ุงูุจูุงุก ุงูุนุงูู", "ุงููุตุฑ", "ุงูุจูุช"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ",
                    question: "ูู ูููู ุชุนุงูู: '<span class='poem-text'>ููู ุงูุฌูุงุฑ ุงูููุดุขุช ูู ุงูุจุญุฑ ูุงูุฃุนูุงู</span>' ุงูุชุดุจูู:",
                    answers: ["ุชุดุจูู ุงูุณูู ุจุงูุฌุจุงู", "ุชุดุจูู ุงูุจุญุฑ ุจุงูุฌุจู", "ุชุดุจูู ุงูุฌูุงุฑ ุจุงูุนูู"],
                    correct: 0
                },
                {
                    category: "ุงูุฃุฏุจ",
                    question: "ูู ุฑูุงุฏ ุงูุดุนุฑ ุงูุญุฑ ูู ุงูุฃุฏุจ ุงูุนุฑุจู:",
                    answers: ["ูุงุฒู ุงูููุงุฆูุฉ ูุจุฏุฑ ุดุงูุฑ ุงูุณูุงุจ", "ุฃุญูุฏ ุดููู ูุญุงูุธ ุฅุจุฑุงููู", "ุงููุชูุจู ูุงูุจุญุชุฑู"],
                    correct: 0
                },
                {
                    category: "ุงูุฅุนุฑุงุจ",
                    question: "ูู ูููู ุชุนุงูู: '<span class='poem-text'>ูุตุจุฑ ุฌููู</span>'ุ ูุง ุฅุนุฑุงุจ 'ุตุจุฑ'ุ",
                    answers: ["ูุจุชุฏุฃ ูุฑููุน ูุงูุฎุจุฑ ูุญุฐูู", "ุฎุจุฑ ูุฑููุน", "ูุงุนู ูุฑููุน"],
                    correct: 0
                },
                {
                    category: "ุงูุตุฑู",
                    question: "ุงููุนู ุงููุถุงุฑุน ูู <span class='highlight-word'>ุงุณุชูุงุฏ</span> ูู:",
                    answers: ["ูุณุชููุฏ", "ูุณุชูุงุฏ", "ุงุณุชูุฏ"],
                    correct: 0
                },
                {
                    category: "ุงููุญู",
                    question: "ูู ููููุง: 'ูุง <span class='underline-important'>ููููุง</span>'ุ ูุง ุฅุนุฑุงุจ 'ููู'ุ",
                    answers: ["ููุงุฏู ููุตูุจ ุจูุชุญุฉ ููุฏุฑุฉ ููุน ูู ุธููุฑูุง ุงุดุชุบุงู ุงููุญู ุจุญุฑูุฉ ุงูููุงุณุจุฉ", "ููุงุฏู ูุจูู ุนูู ุงูุถู", "ููุงุฏู ูุฑููุน"],
                    correct: 0
                }
            ],
            level5: [
                {
                    category: "ุงูุชุญููู ุงูุดุงูู",
                    question: "ูู ูุตูุฏุฉ ุฃุจู ุงููุงุณู ุงูุดุงุจู '<span class='poem-text'>ุฅุฐุง ุงูุดุนุจ ูููุงู ุฃุฑุงุฏ ุงูุญูุงุฉ</span>'ุ ุงูุจุญุฑ ุงูุดุนุฑู ุงููุณุชุฎุฏู:",
                    answers: ["ุงููุชูุงุฑุจ", "ุงูุทููู", "ุงููุงูู"],
                    correct: 0
                },
                {
                    category: "ุงููุญู ุงููุนูุฏ",
                    question: "ูู ููููุง: 'ุธููุชู ุฒูุฏุงู <span class='underline-important'>ูุงุฆูุงู</span>'ุ ูุง ุฅุนุฑุงุจ 'ูุงุฆูุงู'ุ",
                    answers: ["ููุนูู ุจู ุซุงู ููุตูุจ", "ููุนูู ุจู ุฃูู ููุตูุจ", "ุญุงู ููุตูุจุฉ"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ ุงูุดุงููุฉ",
                    question: "ูุงู ุงููุชูุจู: '<span class='poem-text'>ุฃูุงู ููุก ุฌูููู ุนู ุดูุงุฑุฏูุง *** ููุณูุฑ ุงูุฎูู ุฌุฑุงูุง ููุฎุชุตู</span>' ููุน ุงูุตูุฑุฉ:",
                    answers: ["ุงุณุชุนุงุฑุฉ ููููุฉ", "ููุงูุฉ", "ุชุดุจูู ุถููู"],
                    correct: 0
                },
                {
                    category: "ุงูุฃุฏุจ ูุงูููุฏ",
                    question: "ูู ุฎุตุงุฆุต ุงูุฃุฏุจ ูู ุงูุนุตุฑ <span class='underline-important'>ุงูุฃููู</span>:",
                    answers: ["ุงุฒุฏูุงุฑ ุงูุดุนุฑ ุงูุณูุงุณู ูุงูุฃุญุฒุงุจ", "ุงูุงูุชูุงู ุจุงููุตู ููุท", "ุถุนู ุงููุบุฉ"],
                    correct: 0
                },
                {
                    category: "ุงูุฅุนุฑุงุจ ุงูุดุงูู",
                    question: "ูู ูููู ุชุนุงูู: '<span class='poem-text'>ุฅูุงู ูุนุจุฏ ูุฅูุงู ูุณุชุนูู</span>'ุ ูุง ุฅุนุฑุงุจ 'ุฅูุงู' ุงูุฃูููุ",
                    answers: ["ุถููุฑ ูููุตู ูุจูู ูู ูุญู ูุตุจ ููุนูู ุจู ููุฏู", "ููุนูู ุจู ููุตูุจ", "ุถููุฑ ูุชุตู"],
                    correct: 0
                },
                {
                    category: "ุงูุตุฑู ุงูุดุงูู",
                    question: "ูุฒู ูููุฉ <span class='highlight-word'>ุงุณุชุฎุฑุงุฌ</span>:",
                    answers: ["ุงุณุชูุนุงู", "ุงูุชุนุงู", "ุชูุงุนู"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ",
                    question: "ูู ููู ุงูุดุงุนุฑ: '<span class='poem-text'>ููุณุช ุฃุจุงูู ุจุนุฏ ููุฏู ุฃุญุจุชู *** ุฃุญููู ุนูู ุงูููุช ุฃู ุญููู ูุงููุง</span>' ุงููุญุณู ุงูุจุฏูุนู:",
                    answers: ["ููุงุจูุฉ", "ุทุจุงู", "ุฌูุงุณ"],
                    correct: 0
                },
                {
                    category: "ุงูุชุญููู ุงูููุฏู",
                    question: "ูุงู ูุญููุฏ ุฏุฑููุด: '<span class='poem-text'>ุณุฌู ุฃูุง ุนุฑุจู</span>'ุ ุงููุต ููุชูู ุฅูู:",
                    answers: ["ุดุนุฑ ุงูููุงููุฉ", "ุงูุดุนุฑ ุงูุฑููุงูุณู", "ุงูุดุนุฑ ุงูููุงุณููู"],
                    correct: 0
                },
                {
                    category: "ุงููุญู ุงููุชูุฏู",
                    question: "ุงููุนู ุงูุฐู ููุตุจ ุซูุงุซุฉ ููุงุนูู:",
                    answers: ["ุฃุนูู ูุฃุฑู", "ุฃุนุทู ูููุญ", "ุธู ูุญุณุจ"],
                    correct: 0
                },
                {
                    category: "ุงูููุฑุฏุงุช ุงููุชูุฏูุฉ",
                    question: "ูุนูู <span class='highlight-word'>ุงููููุงุญ</span> ูู ูููู: 'ุงูููุงุญ ุงููุณูุญ':",
                    answers: ["ุงููุถุงู ูุงูุฌูุงุฏ", "ุงูุญุฑุจ", "ุงูุตุฑุงุน"],
                    correct: 0
                },
                {
                    category: "ุงูุฃุฏุจ",
                    question: "ูู ูุคููุงุช ุทู ุญุณูู:",
                    answers: ["ุงูุฃูุงู", "ุฒููุจ", "ุนูุฏุฉ ุงูุฑูุญ"],
                    correct: 0
                },
                {
                    category: "ุงูุจูุงุบุฉ ุงููุนูุฏุฉ",
                    question: "ูู ูููู ุชุนุงูู: '<span class='poem-text'>ูุงุตุจุฑ ุตุจุฑุงู ุฌูููุงู</span>' ููุน ุงูููุนูู ุงููุทูู:",
                    answers: ["ููุนูู ูุทูู ูุจูู ููููุน", "ููุนูู ูุทูู ูุคูุฏ ูููุนู", "ููุนูู ูุทูู ูุจูู ููุนุฏุฏ"],
                    correct: 0
                },
                {
                    category: "ุงูุชุญููู",
                    question: "ูุงู ุงูุดุงุนุฑ: '<span class='poem-text'>ูุทูู ูู ุดูุบูุช ุจุงูุฎูุฏ ุนูู *** ูุงุฒุนุชูู ุฅููู ูู ุงูุฎูุฏ ููุณู</span>' ุงูุนุงุทูุฉ:",
                    answers: ["ุญุจ ุงููุทู ูุงูุงูุชูุงุก", "ุงููุฎุฑ ุจุงูููุณ", "ุงูุญููู ูููุงุถู"],
                    correct: 0
                },
                {
                    category: "ุงูุตุฑู",
                    question: "ุงุณู ุงูุฒูุงู ูู ุงููุนู <span class='highlight-word'>ุงุฌุชูุน</span>:",
                    answers: ["ููุฌุชูููุน", "ุงุฌุชูุงุน", "ูุฌุชููุน"],
                    correct: 0
                },
                {
                    category: "ุงููุญู ุงูุดุงูู",
                    question: "ูู ููููุง: '<span class='underline-important'>ุญุจุฐุง</span> ุงูุนููู'ุ ูุง ุฅุนุฑุงุจ 'ุงูุนูู'ุ",
                    answers: ["ูุจุชุฏุฃ ูุคุฎุฑ ูุฑููุน", "ูุงุนู ูุฑููุน", "ุฎุจุฑ ูุฑููุน"],
                    correct: 0
                }
            ]
        };

        // Motivational messages
        const motivationalMessages = {
            excellent: [
                "ููุชุงุฒ ูุง ุจุทู! ๐ ุณุชููู ูููุฏุณุงู ุนุธููุงู!",
                "ุฑุงุฆุน! ๐ฏ ูุณุชูุจูู ูุทุจูุจ ุจุงุฑุน ููุชุธุฑู!",
                "ุฃุญุณูุช! โ๏ธ ุณุชููู ุทูุงุฑุงู ูุงูุฑุงู!",
                "ูุฐูู! โ๏ธ ุณุชุตุจุญ ูุงุถูุงู ุนุงุฏูุงู!",
                "ุนุธูู! ๐ ุณุชููู ุฃุณุชุงุฐุงู ูุชููุฒุงู!",
                "ููุชุงุฒ! ๐๏ธ ูุณุชูุจูู ููุญุงูู ุจุงุฑุน!",
                "ุฑุงุฆุน ุฌุฏุงู! ๐ข ุณุชููู ูุงุฆุฏ ุจุงุฎุฑุฉ ูุงูุฑุงู!",
                "ุฅุจุฏุงุน! ๐ ุณุชุตุจุญ ุณูุงุณูุงู ูุญููุงู!",
                "ูุฎุฑ ููุง! ๐ก ุณุชููู ุนุงููุงู ูุจุฏุนุงู!",
                "ูุฌู ุณุงุทุน! โญ ูุณุชูุจูู ุฒุงูุฑ ุจุฅุฐู ุงููู!"
            ],
            good: [
                "ุฌูุฏ ุฌุฏุงู! ๐ ุงุณุชูุฑ ูู ุงูุชูุฏู!",
                "ุฃุญุณูุช! ๐ ุฃูุช ุนูู ุงูุทุฑูู ุงูุตุญูุญ!",
                "ููุชุงุฒ! ๐ช ูุงุตู ุงูุฌูุฏ!",
                "ุฑุงุฆุน! ๐ฏ ุชูุฏูู ููุญูุธ!",
                "ุฌูุฏ! โจ ูุฑูุจ ูู ุงูุชููุฒ!"
            ],
            average: [
                "ูุง ุจุฃุณ! ๐ ุจุฅููุงูู ุงูุฃูุถู!",
                "ุฌูุฏ! ๐ญ ุฑุงุฌุน ุฏุฑูุณู ูุญุงูู ูุฑุฉ ุฃุฎุฑู!",
                "ูุญุงููุฉ ุฌูุฏุฉ! ๐ ุงููุฑุงุฌุนุฉ ุณุชุณุงุนุฏู!",
                "ุญุงูู ุฃูุซุฑ! ๐ ุฃูุช ูุงุฏุฑ ุนูู ุงูุชุญุณู!"
            ]
        };

        // State Management
        let currentUser = null;
        let isTeacher = false;
        let currentLevel = 1;
        let currentQuestionIndex = 0;
        let currentQuestions = [];
        let quizScore = 0;
        let selectedAnswer = null;
        let answerSubmitted = false;

        // In-memory storage (compatible with iframe)
        const appStorage = {
            allStudents: {},
            lastSync: null
        };

        // Storage functions
        function saveToStorage(key, value) {
            appStorage[key] = value;
            appStorage.lastSync = new Date().toISOString();

            // Auto-save to teacher's view in real-time
            if (key === 'allStudents') {
                updateTeacherDashboardRealtime();
            }
        }

        function getFromStorage(key) {
            return appStorage[key] || null;
        }

        function getAllStudents() {
            return getFromStorage('allStudents') || {};
        }

        function saveStudent(studentData) {
            const allStudents = getAllStudents();
            allStudents[studentData.name] = studentData;
            saveToStorage('allStudents', allStudents);
        }

        // Login functions
        function startAsStudent() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('studentNameScreen').classList.remove('hidden');
        }

        function showTeacherLogin() {
            document.getElementById('teacherLoginModal').classList.remove('hidden');
        }

        function closeTeacherLogin() {
            document.getElementById('teacherLoginModal').classList.add('hidden');
            document.getElementById('teacherPassword').value = '';
        }

        function loginAsTeacher() {
            const password = document.getElementById('teacherPassword').value;
            if (password === '1234') {
                isTeacher = true;
                document.getElementById('teacherLoginModal').classList.add('hidden');
                document.getElementById('loginScreen').classList.add('hidden');
                showTeacherDashboard();
            } else {
                showCustomAlert('ูููุฉ ุงูุณุฑ ุฎุงุทุฆุฉ!', 'error');
            }
        }

        function saveStudentName() {
            const name = document.getElementById('studentNameInput').value.trim();
            if (!name) {
                showCustomAlert('ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงุณูู!', 'warning');
                return;
            }

            currentUser = name;
            let studentData = getAllStudents()[name];

            if (!studentData) {
                studentData = {
                    name: name,
                    totalScore: 0,
                    levels: {
                        1: { completed: false, score: 0, unlocked: true },
                        2: { completed: false, score: 0, unlocked: true },
                        3: { completed: false, score: 0, unlocked: true },
                        4: { completed: false, score: 0, unlocked: false },
                        5: { completed: false, score: 0, unlocked: false }
                    },
                    lastAttempt: new Date().toISOString()
                };
                saveStudent(studentData);
            }

            document.getElementById('studentNameScreen').classList.add('hidden');
            showMainMenu();
        }

        function logout() {
            currentUser = null;
            isTeacher = false;
            document.getElementById('mainMenu').classList.add('hidden');
            document.getElementById('teacherDashboard').classList.add('hidden');
            document.getElementById('loginScreen').classList.remove('hidden');
        }

        // Main Menu
        function showMainMenu() {
            const studentData = getAllStudents()[currentUser];
            document.getElementById('studentNameDisplay').textContent = currentUser;
            document.getElementById('totalScore').textContent = studentData.totalScore;

            const levelsGrid = document.getElementById('levelsGrid');
            levelsGrid.innerHTML = '';

            for (let i = 1; i <= 5; i++) {
                const level = studentData.levels[i];
                const card = document.createElement('div');
                card.className = `level-card neon-border${level.unlocked ? '-blue' : ''} bg-gray-900 bg-opacity-90 rounded-xl p-6 ${level.unlocked ? 'cursor-pointer' : 'opacity-50'}`;

                const lockIcon = level.unlocked ? '' : '๐ ';
                const scoreText = level.completed ? `ุงููุชูุฌุฉ: ${level.score}/100` : 'ูู ูููุฌุฒ ุจุนุฏ';
                const badge = level.score >= 90 ? 'โญ' : level.score >= 70 ? '๐' : '';

                card.innerHTML = `
                    <div class="text-center">
                        <div class="text-4xl mb-3">${lockIcon}๐</div>
                        <h3 class="text-2xl font-bold mb-2 neon-text">ุงููุณุชูู ${i}</h3>
                        <p class="text-gray-400 mb-2">${scoreText} ${badge}</p>
                        ${level.unlocked ?
                            `<button onclick="startLevel(${i})" class="btn-primary text-gray-900 font-bold py-2 px-6 rounded-lg mt-2">
                                ${level.completed ? 'ุฃุนุฏ ุงููุญุงููุฉ' : 'ุงุจุฏุฃ ุงูุขู'}
                            </button>` :
                            `<div class="text-sm text-gray-500 mt-2">ูููุชุญ ุจุนุฏ ุชุฌุงูุฒ ุงููุณุชููุงุช ุงูุซูุงุซุฉ ุงูุฃููู ุจูุณุจุฉ 90%</div>`
                        }
                    </div>
                `;

                levelsGrid.appendChild(card);
            }

            document.getElementById('mainMenu').classList.remove('hidden');
        }

        // Start Level
        function startLevel(level) {
            const studentData = getAllStudents()[currentUser];
            if (!studentData.levels[level].unlocked) {
                showCustomAlert('ูุฐุง ุงููุณุชูู ูููู! ุฃููู ุงููุณุชููุงุช ุงูุณุงุจูุฉ ุจุงูุชูุงุฒ ููุชุญู.', 'warning');
                return;
            }

            currentLevel = level;
            currentQuestionIndex = 0;
            quizScore = 0;

            // Shuffle questions
            const levelKey = `level${level}`;
            const allQuestions = [...questionBank[levelKey]];
            currentQuestions = shuffleArray(allQuestions).slice(0, 10);

            document.getElementById('mainMenu').classList.add('hidden');
            document.getElementById('quizScreen').classList.remove('hidden');

            showQuestion();
        }

        // Shuffle array
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // Show Question
        function showQuestion() {
            answerSubmitted = false;
            selectedAnswer = null;

            const question = currentQuestions[currentQuestionIndex];

            document.getElementById('currentLevelDisplay').textContent = currentLevel;
            document.getElementById('currentQuestionNum').textContent = currentQuestionIndex + 1;
            document.getElementById('totalQuestionsNum').textContent = currentQuestions.length;
            document.getElementById('quizScore').textContent = quizScore;

            const progress = ((currentQuestionIndex) / currentQuestions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';

            document.getElementById('questionCategory').textContent = '๐ ' + question.category;
            document.getElementById('questionText').innerHTML = question.question;

            const answersContainer = document.getElementById('answersContainer');
            answersContainer.innerHTML = '';

            // Shuffle answers
            const answers = question.answers.map((ans, idx) => ({ text: ans, originalIndex: idx }));
            const shuffledAnswers = shuffleArray(answers);

            shuffledAnswers.forEach((answer, index) => {
                const answerDiv = document.createElement('div');
                answerDiv.className = 'answer-option neon-border bg-gray-800 p-4 rounded-lg';
                answerDiv.innerHTML = `
                    <div class="text-lg">${String.fromCharCode(65 + index)}) ${answer.text}</div>
                `;
                answerDiv.onclick = () => selectAnswer(answer.originalIndex, answerDiv);
                answersContainer.appendChild(answerDiv);
            });

            // Store correct answer
            currentQuestions[currentQuestionIndex].correctIndex = question.correct;
        }

        function selectAnswer(answerIndex, element) {
            if (answerSubmitted) return;

            // Remove previous selection
            document.querySelectorAll('.answer-option').forEach(el => {
                el.classList.remove('neon-border-gold');
            });

            // Mark current selection
            element.classList.add('neon-border-gold');
            selectedAnswer = answerIndex;

            // Submit answer after a short delay
            setTimeout(() => {
                submitAnswer(element);
            }, 500);
        }

        function submitAnswer(selectedElement) {
            if (answerSubmitted) return;
            answerSubmitted = true;

            const question = currentQuestions[currentQuestionIndex];
            const isCorrect = selectedAnswer === question.correctIndex;

            if (isCorrect) {
                selectedElement.classList.add('answer-correct');
                selectedElement.classList.remove('neon-border-gold');
                quizScore += 10;
                document.getElementById('quizScore').textContent = quizScore;
                confetti({
                    particleCount: 50,
                    spread: 60,
                    origin: { y: 0.8 }
                });
            } else {
                selectedElement.classList.add('answer-wrong');
                selectedElement.classList.remove('neon-border-gold');

                // Highlight correct answer
                const allAnswers = document.querySelectorAll('.answer-option');
                let correctAnswerElement = null;

                // Find the correct answer element
                const answersInOrder = Array.from(allAnswers);
                const correctAnswerText = question.answers[question.correctIndex];
                answersInOrder.forEach(el => {
                    if (el.textContent.includes(correctAnswerText)) {
                        correctAnswerElement = el;
                    }
                });

                if (correctAnswerElement) {
                    setTimeout(() => {
                        correctAnswerElement.classList.add('answer-correct');
                    }, 300);
                }
            }

            // Move to next question
            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < currentQuestions.length) {
                    showQuestion();
                } else {
                    finishQuiz();
                }
            }, 2000);
        }

        function finishQuiz() {
            const studentData = getAllStudents()[currentUser];
            studentData.levels[currentLevel].completed = true;
            studentData.levels[currentLevel].score = quizScore;
            studentData.lastAttempt = new Date().toISOString();

            // Calculate total score
            let total = 0;
            Object.values(studentData.levels).forEach(level => {
                if (level.completed) total += level.score;
            });
            studentData.totalScore = total;

            // Check if levels 4 and 5 should be unlocked
            const level1Score = studentData.levels[1].score;
            const level2Score = studentData.levels[2].score;
            const level3Score = studentData.levels[3].score;

            if (level1Score >= 90 && level2Score >= 90 && level3Score >= 90) {
                studentData.levels[4].unlocked = true;
                studentData.levels[5].unlocked = true;
            }

            saveStudent(studentData);

            // Show result
            showResult(quizScore);
        }

        function showResult(score) {
            let emoji, title, message, motivational;

            if (score >= 90) {
                emoji = '๐';
                title = 'ููุชุงุฒ!';
                message = 'ุฃุฏุงุก ุฑุงุฆุน ุฌุฏุงู!';
                motivational = motivationalMessages.excellent[Math.floor(Math.random() * motivationalMessages.excellent.length)];
            } else if (score >= 70) {
                emoji = '๐';
                title = 'ุฌูุฏ ุฌุฏุงู!';
                message = 'ุฃุฏุงุก ุฌูุฏ!';
                motivational = motivationalMessages.good[Math.floor(Math.random() * motivationalMessages.good.length)];
            } else {
                emoji = '๐';
                title = 'ุญุงูู ูุฑุฉ ุฃุฎุฑู!';
                message = 'ุฑุงุฌุน ุฏุฑูุณู ูุญุงูู ูุฑุฉ ุฃุฎุฑู';
                motivational = motivationalMessages.average[Math.floor(Math.random() * motivationalMessages.average.length)];
            }

            document.getElementById('resultEmoji').textContent = emoji;
            document.getElementById('resultTitle').textContent = title;
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('finalScore').textContent = score;
            document.getElementById('motivationalMessage').textContent = motivational;

            document.getElementById('resultModal').classList.remove('hidden');

            if (score >= 70) {
                confetti({
                    particleCount: 200,
                    spread: 100,
                    origin: { y: 0.6 }
                });
            }
        }

        function closeResultModal() {
            document.getElementById('resultModal').classList.add('hidden');
            document.getElementById('quizScreen').classList.add('hidden');
            showMainMenu();
        }

        function returnToMenu() {
            showCustomConfirm('ูู ุชุฑูุฏ ุงูุนูุฏุฉ ูููุงุฆูุฉุ ุณูุชู ููุฏุงู ุงูุชูุฏู ุงูุญุงูู.', () => {
                document.getElementById('quizScreen').classList.add('hidden');
                showMainMenu();
            });
        }

        // Real-time update for teacher dashboard
        function updateTeacherDashboardRealtime() {
            // Only update if teacher dashboard is visible
            if (!document.getElementById('teacherDashboard').classList.contains('hidden')) {
                updateTeacherStats();
            }
        }

        // Teacher Dashboard
        function showTeacherDashboard() {
            updateTeacherStats();
            document.getElementById('teacherDashboard').classList.remove('hidden');
        }

        // Export data function for teacher
        function exportStudentData() {
            const allStudents = getAllStudents();
            const dataStr = JSON.stringify(allStudents, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'student_results_' + new Date().toISOString().split('T')[0] + '.json';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        function updateTeacherStats() {
            const allStudents = getAllStudents();
            const studentsArray = Object.values(allStudents);

            document.getElementById('totalStudents').textContent = studentsArray.length;

            if (studentsArray.length > 0) {
                const totalScore = studentsArray.reduce((sum, student) => sum + student.totalScore, 0);
                const avgScore = Math.round(totalScore / studentsArray.length);
                document.getElementById('avgScore').textContent = avgScore;

                const excellentCount = studentsArray.filter(student => {
                    const completedLevels = Object.values(student.levels).filter(l => l.completed);
                    const avgLevelScore = completedLevels.length > 0 ?
                        completedLevels.reduce((sum, l) => sum + l.score, 0) / completedLevels.length : 0;
                    return avgLevelScore >= 90;
                }).length;
                document.getElementById('excellentStudents').textContent = excellentCount;
            }

            const tbody = document.getElementById('studentsTableBody');
            tbody.innerHTML = '';

            studentsArray.forEach(student => {
                const row = document.createElement('tr');
                row.className = 'border-b border-gray-700 hover:bg-gray-800';

                const lastAttempt = new Date(student.lastAttempt).toLocaleDateString('ar-DZ');

                row.innerHTML = `
                    <td class="p-4">${student.name}</td>
                    <td class="text-center p-4 font-bold text-yellow-400">${student.totalScore}</td>
                    <td class="text-center p-4">${student.levels[1].completed ? student.levels[1].score : '-'}</td>
                    <td class="text-center p-4">${student.levels[2].completed ? student.levels[2].score : '-'}</td>
                    <td class="text-center p-4">${student.levels[3].completed ? student.levels[3].score : '-'}</td>
                    <td class="text-center p-4">${student.levels[4].completed ? student.levels[4].score : '-'}</td>
                    <td class="text-center p-4">${student.levels[5].completed ? student.levels[5].score : '-'}</td>
                    <td class="text-center p-4 text-sm text-gray-400">${lastAttempt}</td>
                `;

                tbody.appendChild(row);
            });

            document.getElementById('teacherDashboard').classList.remove('hidden');
        }

        // Custom alert/confirm functions (no built-in dialogs)
        function showCustomAlert(message, type = 'info') {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4';

            const bgColor = type === 'error' ? 'bg-red-900' : type === 'warning' ? 'bg-yellow-900' : 'bg-blue-900';

            modal.innerHTML = `
                <div class="neon-border ${bgColor} bg-opacity-90 rounded-2xl p-8 max-w-md w-full text-center">
                    <p class="text-xl mb-6">${message}</p>
                    <button onclick="this.closest('.fixed').remove()" class="btn-primary text-gray-900 font-bold py-3 px-8 rounded-lg">
                        ุญุณูุงู
                    </button>
                </div>
            `;

            document.body.appendChild(modal);
        }

        function showCustomConfirm(message, onConfirm) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4';

            modal.innerHTML = `
                <div class="neon-border bg-gray-900 rounded-2xl p-8 max-w-md w-full text-center">
                    <p class="text-xl mb-6">${message}</p>
                    <div class="flex gap-4 justify-center">
                        <button onclick="this.closest('.fixed').remove(); (${onConfirm})()" class="bg-green-600 hover:bg-green-700 font-bold py-3 px-8 rounded-lg transition">
                            ูุนู
                        </button>
                        <button onclick="this.closest('.fixed').remove()" class="bg-gray-700 hover:bg-gray-600 font-bold py-3 px-8 rounded-lg transition">
                            ูุง
                        </button>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);
        }
    </script>
</body>
</html>
